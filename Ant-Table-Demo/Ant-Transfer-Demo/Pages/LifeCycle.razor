@page "/lifecycle"

<h1>Componet Lifecycle</h1>
<p>Check the browser console for details...</p>


@*<p role="status">Current count: @currentCount</p>*@
<LifeCycleExtension CurrentCount="@currentCount" />

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    public override async Task SetParametersAsync(ParameterView parameters)
    {
        Console.WriteLine("SetParametersAsync - Begin");
        await base.SetParametersAsync(parameters);
        Console.WriteLine("SetParametersAsync - End");
    }

    protected override void OnInitialized() => Console.WriteLine("OnInitialized");

    protected override async Task OnInitializedAsync()
    {
        currentCount++;
        Console.WriteLine("OnInitializedAsync");
    } 

    protected override void OnParametersSet()=> Console.WriteLine("OnParametersSet");
 
    protected override async Task OnParametersSetAsync() => Console.WriteLine("OnParametersSetAsync");
 
    protected override void OnAfterRender(bool firstRender) => Console.WriteLine($"OnAfterRender (First render: {firstRender})");
 
    protected override async Task OnAfterRenderAsync(bool firstRender) => Console.WriteLine($"OnAfterRenderAsync (First render: {firstRender})");



}
